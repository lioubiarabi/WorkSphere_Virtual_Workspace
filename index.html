<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="initial-scale=1.0">
    <title>WorkSphere - Virtual Workspace</title>
    <link rel="stylesheet" href="./assets/style.css">
</head>

<body>
    <main class="container">
        <aside class="sidebar">
            <div class="sidebar_header">
                <img src="./assets/images/logo.png" alt="workspace logo">
                <p class="tagline">Virtual Workspace Management</p>
            </div>

            <div class="toolbar">
                <h2>Unassigned Staff</h2>
                <button id="addWorkerBtn">
                    Add New
                </button>
            </div>

            <div class="warning-message" id="noEmployee">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
                    stroke-linecap="round" stroke-linejoin="round">
                    <path d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z">
                    </path>
                    <line x1="12" y1="9" x2="12" y2="13"></line>
                    <line x1="12" y1="17" x2="12.01" y2="17"></line>
                </svg>
                <span>No unassigned employees</span>
            </div>

            <div class="unassigned-list" id="unassignedList">

                <!-- employees list -->

            </div>

        </aside>
        <section class="workspace">
            <div class="room-zone cenference-room">
                <div class="room-header">Conference</div>
                <div class="profiles-group">

                </div>
                <button class="btn-add" onclick="assign('Conference')">+</button>
            </div>

            <div class="room-zone reception-room">
                <div class="room-header">Reception</div>
                <div class="profiles-group">

                </div>
                <button class="btn-add" onclick="assign('reception')">+</button>
            </div>

            <div class="room-zone archive-room">
                <div class="room-header">Archive</div>
                <div class="profiles-group">

                </div>
                <button class="btn-add" onclick="assign('archive')">+</button>
            </div>

            <div class="room-zone security-room">
                <div class="room-header">Security</div>
                <div class="profiles-group">
                    <img src="https://avatar.iran.liara.run/public" class="mini-avatar">
                </div>
                <button class="btn-add" onclick="assign('security')">+</button>
            </div>

            <div class="room-zone staff-room">
                <div class="room-header">Staff Room</div>
                <div class="profiles-group">
                    
                </div>
                <button class="btn-add" onclick="assign('staff')">+</button>
            </div>

            <div class="room-zone servers-room">
                <div class="room-header">Servers</div>
                <div class="profiles-group">

                </div>
                <button class="btn-add" onclick="assign('servers')">+</button>
            </div>
        </section>

        <!-- Assigning Modal -->
        <div id="assignModal" class="modal-overlay hidden">
            <div class="modal-content modal-small">
                <header class="modal-header">
                    <h2>Assign to <span id="targetZoneName" style="color: var(--primary-color);">Room</span></h2>
                    <button class="btn-close" id="closeAssignModal">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2">
                            <line x1="18" y1="6" x2="6" y2="18"></line>
                            <line x1="6" y1="6" x2="18" y2="18"></line>
                        </svg>
                    </button>
                </header>

                <div class="modal-body">
                    <div class="warning-message" id="assignWarningMessage">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path
                                d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z">
                            </path>
                            <line x1="12" y1="9" x2="12" y2="13"></line>
                            <line x1="12" y1="17" x2="12.01" y2="17"></line>
                        </svg>
                        <span>There's no emplyee to assign here</span>
                    </div>

                    <div class="assign-list" id="assignList">

                        <!-- assigning list -->

                    </div>
                </div>
            </div>
        </div>

        <!-- Emplyee Modal -->
        <div id="employeeModal" class="modal-overlay hidden">
            <div class="modal-content">
                <header class="modal-header">
                    <h2>Add New Staff</h2>
                    <button class="btn-close" id="closeModal">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2">
                            <line x1="18" y1="6" x2="6" y2="18"></line>
                            <line x1="6" y1="6" x2="18" y2="18"></line>
                        </svg>
                    </button>
                </header>

                <form id="addEmployeeForm" class="modal-form">
                    <div id="warningMessage" class="warning-message">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path
                                d="M10.29 3.86L1.82 18a2 2 0 0 0 1.71 3h16.94a2 2 0 0 0 1.71-3L13.71 3.86a2 2 0 0 0-3.42 0z">
                            </path>
                            <line x1="12" y1="9" x2="12" y2="13"></line>
                            <line x1="12" y1="17" x2="12.01" y2="17"></line>
                        </svg>
                        <span>All fields must be correct</span>
                    </div>

                    <div class="form-row photo-section">
                        <div class="photo-preview">
                            <img id="previewImg"
                                src="https://ui-avatars.com/api/?name=New+User&background=ecf0f1&color=7f8c8d">
                        </div>
                        <div class="photo-input-group">
                            <label for="photoUrl">Photo URL</label>
                            <input type="url" name="profileUrl" id="photoUrl" placeholder="https://..." required>
                        </div>
                    </div>

                    <div class="form-grid">
                        <div class="form-group">
                            <label for="fullName">Full Name</label>
                            <input type="text" id="fullName" name="name" placeholder="Full name" required>
                        </div>

                        <div class="form-group">
                            <label for="role">Role</label>
                            <select id="role" name="role" required>
                                <option value="" disabled selected>Select Role</option>
                                <option value="manager">Manager</option>
                                <option value="receptionist">Receptionist</option>
                                <option value="it_technician">IT Technician</option>
                                <option value="security">Security Guard</option>
                                <option value="cleaner">Cleaner</option>
                                <option value="staff">General Staff</option>
                            </select>
                        </div>

                        <div class="form-group">
                            <label for="email">Email</label>
                            <input type="email" name="email" id="email" placeholder="example@worksphere.com" required>
                        </div>

                        <div class="form-group">
                            <label for="phone">Phone</label>
                            <input type="tel" name="phone" id="phone" placeholder="+212 612124567" required>
                        </div>
                    </div>

                    <hr class="divider">

                    <div class="experience-section">
                        <div class="exp-header">
                            <label>Professional Experience</label>
                            <button type="button" class="exp-header-btn" id="addExpBtn">
                                + Add Experience
                            </button>
                        </div>

                        <div id="experienceList" class="experience-list">
                            <div class="experience-item main">
                                <div class="exp-grid">
                                    <div class="form-group">
                                        <label>Position</label>
                                        <input type="text" name="exp_position" placeholder="Position" required>
                                    </div>

                                    <div class="form-group">
                                        <label>Company</label>
                                        <input type="text" name="exp_company" placeholder="Company" required>
                                    </div>

                                    <div class="form-group">
                                        <label>Start Date</label>
                                        <input type="date" name="exp_start" required>
                                    </div>

                                    <div class="form-group">
                                        <label>End Date</label>
                                        <input type="date" name="exp_end" required>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <footer class="modal-footer">
                        <button type="button" class="btn-cancel" id="cancelModal">Cancel</button>
                        <button type="submit" class="btn-save">Save</button>
                    </footer>
                </form>
            </div>
        </div>

        <!-- CV Modal -->

        <div id="CVModal" class="modal-overlay hidden">
            <div class="modal-content">

                <header class="modal-header">
                    <h2>Employee Details</h2>
                    <button class="btn-close" id="closeCVModal">
                        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2">
                            <line x1="18" y1="6" x2="6" y2="18"></line>
                            <line x1="6" y1="6" x2="18" y2="18"></line>
                        </svg>
                    </button>
                </header>

                <div class="modal-scroll">

                    <div class="header">
                        <img src="" id="cvAvatar" class="cv-avatar">
                        <div class="identity-text">
                            <h3 id="cvName">halima</h3>
                            <span class="role-badge" id="cvRole">Manager</span>
                        </div>
                    </div>

                    <hr class="divider">

                    <div class="cv-grid">
                        <div class="cv-item">
                            <label>Email</label>
                            <div class="value" id="cvEmail">exm@example.com</div>
                        </div>
                        <div class="cv-item">
                            <label>Phone</label>
                            <div class="value" id="cvPhone">+212 600 000 000</div>
                        </div>
                        <div class="cv-item">
                            <label>Current Location</label>
                            <div class="value" id="cvZone">Unassigned</div>
                        </div>
                        <div class="cv-item">
                            <label>Experiences</label>
                            <div class="value" id="cvExperiences">3</div>
                        </div>
                    </div>

                    <hr class="divider">

                    <div class="cv-section">
                        <label class="section-label">Professional Experience</label>
                        <div class="cv-grid">
                            <div class="cv-item">
                                <label>Email</label>
                                <div class="value">exm@example.com</div>
                            </div>
                            <div class="cv-item">
                                <label>Phone</label>
                                <div class="value">+212 600 000 000</div>
                            </div>
                            <div class="cv-item">
                                <label>Current Location</label>
                                <div class="value">Unassigned</div>
                            </div>
                            <div class="cv-item">
                                <label>Current Location</label>
                                <div class="value">Unassigned</div>
                            </div>
                        </div>
                    </div>
                    <hr class="divider">

                    <div class="cv-section">
                        <label class="section-label">Professional Experience</label>
                        <div class="cv-grid">
                            <div class="cv-item">
                                <label>Email</label>
                                <div class="value">exm@example.com</div>
                            </div>
                            <div class="cv-item">
                                <label>Phone</label>
                                <div class="value">+212 600 000 000</div>
                            </div>
                            <div class="cv-item">
                                <label>Current Location</label>
                                <div class="value">Unassigned</div>
                            </div>
                            <div class="cv-item">
                                <label>Current Location</label>
                                <div class="value">Unassigned</div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>

    </main>

    <script src="./assets/index.js"></script>
    <script>
        let employeeModal = document.getElementById("employeeModal");
        let expList = document.getElementById("experienceList");
        let closeModal = document.getElementById("closeModal");
        let cancelModal = document.getElementById("cancelModal");

        function openEmployeeModal() {
            document.querySelector(".modal-header h2").innerText = "Add New Staff";
            employeeModal.classList.toggle("hidden")
        }
        function closeEmployeeModal() {
            document.getElementById("previewImg").src = "https://ui-avatars.com/api/?name=New+User&background=ecf0f1&color=7f8c8d";
            employeeModal.classList.toggle("hidden")
            formModal.reset();
            // reset the experience list:
            expList.innerHTML = `<div class="experience-item">
                                <div class="exp-grid">
                                    <div class="form-group">
                                        <label>Position</label>
                                        <input type="text" name="exp_position" placeholder="Position" required>
                                    </div>

                                    <div class="form-group">
                                        <label>Company</label>
                                        <input type="text" name="exp_company" placeholder="Company" required>
                                    </div>

                                    <div class="form-group">
                                        <label>Start Date</label>
                                        <input type="date"  name="exp_start" required>
                                    </div>

                                    <div class="form-group">
                                        <label>End Date</label>
                                        <input type="date" name="exp_end" required>
                                    </div>
                                </div>
                            </div>`;
        }

        closeModal.addEventListener("click", closeEmployeeModal);
        cancelModal.addEventListener("click", closeEmployeeModal);

        // close assign modal
        document.getElementById("closeAssignModal").addEventListener("click", ()=>{
            document.getElementById("assignModal").classList.toggle("hidden");
        })

        // add experience script
        document.getElementById("addExpBtn").addEventListener("click", () => {
            expList.innerHTML += `
                <div class="experience-item">
                                <button type="button" class="btn-remove-exp">
                                    <svg width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                        stroke-width="2">
                                        <line x1="18" y1="6" x2="6" y2="18"></line>
                                        <line x1="6" y1="6" x2="18" y2="18"></line>
                                    </svg>
                                </button>

                                <div class="exp-grid">
                                    <div class="form-group">
                                        <label>Position</label>
                                        <input type="text" name="exp_position" placeholder="Position" required>
                                    </div>

                                    <div class="form-group">
                                        <label>Company</label>
                                        <input type="text" name="exp_company" placeholder="Company" required>
                                    </div>

                                    <div class="form-group">
                                        <label>Start Date</label>
                                        <input type="date"  name="exp_start" required>
                                    </div>

                                    <div class="form-group">
                                        <label>End Date</label>
                                        <input type="date" name="exp_end" required>
                                    </div>
                                </div>
                            </div>
            `;
        });

        //remove an experience
        expList.addEventListener("click", (e) => {
            if (e.target.closest(".btn-remove-exp")) {
                e.target.closest(".experience-item").remove();
            }
        });
    </script>
</body>

</html>